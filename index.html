<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lake's portifolio</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
        html{
            font-family: arial grande,Tahoma,Helvetica,Arial,sans-serif;
        }
        body{
            margin: 0px;
            background-color:#a9a9ff;
        }
        #sbody{
            overflow: hidden;
            width: 1000px;
            margin: 100px auto;
            background-color: #F0ECFA;
            border-radius: 3px;
        }
        #menu{
            float: left;
            width: 200px;
            overflow: hidden;
            padding: 15px;
        }
        #div-pfp-border{
            width: 184px; height: 184px; background-color: white; box-shadow: 0 2px 4px rgba(0,0,0,.15); border: 1px solid #ddd;
        }
        #div-pfp{
            width: 176px; height: 176px; padding: 4px;
        }
        #div-pfp img{
            width: 100%; height: 100%; object-fit: cover;
        }
        #name-text{
            text-align: center; margin: 15px auto; font-size: 30px;
        }
        .menu-item{
            padding: 0px 10px 0px 10px;
            margin: 10px;
        }
        #content{
            float: right;
            width: 730px;
            overflow: hidden;
            margin: 0px 30px 30px 0px;
        }
        .content-item{
            float:right; width: 100%;
        }
        a{
            text-decoration: none;
            color: #0955e0;
        }
        
        /* when width < 1100px */
        @media (max-width:1100px) {
            body{
                margin: auto;
            }
            #sbody{
                margin: 50px auto;
                width: 96%;
            }
            #menu{
                float: unset;
                width: 100%;
                padding: 0;
            }
            #div-pfp-border{
                margin: 10% auto;
            }
            .menu-item{
                float: left;
            }
            #content{
                float: unset;
                margin: auto;
                width: 86%;
                overflow: hidden;
            }
        }
    </style>
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <div id="header">

    </div>
    <div id="sbody">
        <div id="menu">
            <div id="div-pfp-border">
                <div id="div-pfp">
                    <img src="./zsources/duck guy.png">
                </div>
            </div>
            <div id="name-text">joao pedro "lake" libonati</div>
            <div class="menu-item"><a href="about me/index.html">&#10068; about me</a></div>
            <div class="menu-item"><a href="art/index.html">&#127912; art</a></div>
            <div class="menu-item"><a href="design/index.html">&#9997; design</a></div>
            <div class="menu-item"><a href="games/index.html">&#127918; games</a></div>
            <div class="menu-item"><a href="music/index.html">&#127911; music</a></div>
            <div class="menu-item"><a href="resume/index.html">&#128221; resume</a></div>
            <div class="menu-item"><a href="tools/index.html">&#128295; tools</a></div>
            <div class="menu-item"><a href="video editing/index.html">&#127909; video editing</a></div>
        </div>
        <div id="content">
            Loading...
        </div>
       
        <script>
            
            class Content {
                constructor(title, text, date){
                    this.title = title;
                    this.text = text;
                    this.date = date;
                }
            } 

            let text = null;
            let content = [];
            let allright = false;
            
            
            $.ajax({url: "./zsources/blog%20text/texto.txt", success: function(result){
                text = result;
                allright = true;
                createContent(true);
            }, error: function(){createContent(false); console.log("couldn't get the online .txt")}
            });

            function createContent(hasText){
                if(hasText == false){
                    text = `T> I made an osu!Taiko Hack - hackdetaco
p> There is more info at <a href="https://github.com/calmylake/hackdetaco">github.com/calmylake/hackdetaco</a>.
I did it just today, I feel proud of finally doing something from start to finish. 
But also... I just wanna go sleep...

<img src="https://media.tenor.com/images/61dcf7e4d65440b06c8c901ace9924a6/tenor.gif">
DATE> 31/08/2020

T> UM TÍTULO MUUU U UU U UU UUUUUU ITO GRANDE
p> aaaaa 
hoje eu fiz um site
construi do zero muleke

blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
<img style="margin: 30px;" src="https://a.ppy.sh/4689256_1596477920.gif">
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
aaaaaaaaaa
DATE> 28/08/2020


T> UM TÍTULO
p> blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 

blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 

blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 

blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 
blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah blah blahblah 


DATE> 27/08/2020
`;
                }
            

                content = text.split("T>");
                //filtered is the content with only the items that have "T>", "p>" and "DATE>"
                let filtered = content.filter(function(el){
                    return (el != "" && el != null && (el.includes("p>") && el.includes("DATE>")));
                });
                
                let actContent = [];
                
                (() => {
                    let i = 0;
                    while(i < filtered.length){
                        let title = filtered[i].split("p>")[0].trim();
                        let text = filtered[i].split("p>")[1].split("DATE>")[0].trim().replace(/\n/g,"<br>");
                        let date = "<br><br>"+filtered[i].split("p>")[1].split("DATE>")[1].trim();
                        actContent.push(new Content(title, text, date));
                        i++;
                    }
                })();
                
                (() => {
                    let i = 0;
                    let htmlstring = ""
                    while(i < actContent.length){
                        htmlstring += `<div class="content-item">
                        <h1>${actContent[i].title}</h1>
                        <hr>
                        ${actContent[i].text}
                        <br>
                        ${actContent[i].date}
                        <br><br></div><br>`;
                        i++;
                    }
                    document.getElementById("content").innerHTML = htmlstring.trim();
                })();
        
            }
            
            
        </script>
    </div>
</body>
</html>